#!/usr/bin/env bash

CLIPBOARD="$(xsel -b)"

if [[ ${#CLIPBOARD} -gt 30 ]]; then
    visual="${CLIPBOARD:0:20}"..."${CLIPBOARD: -7}"
else
    visual="$CLIPBOARD"
fi

declare -a options=("mpv
vlc")

choice=$(echo -e "${options[@]}" | dmenu -p "How to open $visual ?")

case "$choice" in
    "mpv")
        mpv $CLIPBOARD
        ;;
    "vlc")
        vlc $CLIPBOARD
        ;;
esac